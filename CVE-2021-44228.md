# 🎥 Log4Shell Vulnerability

## 🔎 What is CVE ?
💬
![image](https://user-images.githubusercontent.com/118449010/206201960-90658f31-3830-43e9-9488-7a41e0aaaba8.png)
> CVE is short for `Common Vulnerabilities and Exposures.` It means publicly known information-security vulnerabilities in publicly released software packages. The informaion is then assigend a CVE ID by a CVE Numbering Authority, CNA. CVEs help IT organizations to more systematically identify security flaws and compensate for vulnerabilities. And it consists of a structure in the order of prefix, year, and numbering.
> #### <div align=center> CVE(Prefix) - 1996(Year) - 0224(Numbering) </div>
> 



## 🔎 What is Log4Shell(Log4j) ?
💬
>**The Log4j vulnerability CVE-2021-44228, aka “Log4Shell.”** When Log4Shell outputs the log, the log is not only written with message data, but also automatically accesses the directory service using JNDI. By doing so, It may provide a function of converting to a name or downloading a Java object. The attacker exploits this function to connect the victim server to the attacker server to download malicious Java objects. As a result, the malicious code can be used to steal server privileges.
>

## :recycle: Log4Shell Attack Life-Cycle
![로그포쉘라이프사이클](https://user-images.githubusercontent.com/118449010/206230106-572b03e3-ea51-430f-abe2-c50e3705920f.png)
```
공격자는 Log4j 취약점에 노출되어 있는 서버를 대상으로 User-Agent에 JNDI Injection을 유발하는 JNDI 쿼리를 삽입합니다.
Attacker sends a JNDI Query into the User-Agent that causes injection to exposed server.
```
```
JNDI 쿼리 스트링이 Log4j에 의해 로깅되는 과정에서 LDAP 쿼리를 실행하게 되고 공격자가 지정한 LDAP 서버로 쿼리를 합니다.
JNDI string is logged by Log4j. Log4j parses the string and reaches out to the Attacker's LDAP Server.
```
```
공격자는 쿼리에 대한 응답으로 악성 JAVA 클래스(Exploit.class)가 위치한 주소(attacker/Exploit.class)를 보냅니다.
LDAP Server responds hostile address(attacker/Exploit.class) that include malicious java class(Exploit.class).
```
```
취약한 Log4Shell 서버는 attacker.com/에 위치한 Exploit.class를 다운로드 받게 되고 이를 실행하면서 다양한 공격이 가능하게 됩니다.
Vulnerable application loads java class and executes malicious code + LDAP server returns with malicious java code.
```








![image](https://user-images.githubusercontent.com/118449010/206232567-12ebf408-bf6c-4a24-a6a3-55a4f2b12b87.png)

## JNDI
![image](https://user-images.githubusercontent.com/118449010/206211470-ababeb61-c94b-403a-aeea-d10044c716af.png)

## LDAP
![image](https://user-images.githubusercontent.com/118449010/206211657-252fad04-2114-49ee-a575-cbfb24fc2440.png)
